# 传统内核调试
配置两台linux主机，其中一台主机称为开发机，另一台主机称为目标机。开发机中除了有一个可运行的linux环境，还应包含必要的开发环境(gcc、gdb、make等)以及内核源码，目标机则需要能够启动内核并挂载一个有效的文件系统，可以将运行在目标机中待调试内核称为目标内核，目标内核在开发机中编译，并在目标机中启动运行。开发机中编译出的内核目标文件以及相关的支撑文件通过串口（或者网路）传送到目标机。

# 基于QEMU内核调试
首先在一台linux宿主机中安装qemu、gcc、gdb、make以及目标内核源代码。然后，在宿主机中编译目标内核源码并用qemu将编译出的目标内核可执行文件在一台客户机中启动。启动后，宿主机就作为开发机，而客户机则作为目标机。最后，用开发机中的gdb对目标机中运行的目标内核做调试。

# 调试
这里我们通过创建两台虚拟机，一台中安装编译完成的 FUSE 内核，另外一台通过 gdb attach 连接到目标机上进行调试，目标机上需要开启串口。

## 目标机器进入假死状态
目标机通过下面的命令主动挂起：
```bash
echo g > /proc/sysrq-trigger
```
